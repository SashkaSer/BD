# Домашнее задание к занятию 1"`Типы и структура СУДБ`" - `Сергиенко А`

### Задание 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

* электронные чеки в json-виде
Лучше всего использовать документоориентированные БД, к примеру MongoDB. Заранее не знаем схему данных. Будем хранить каждый чек в виде одного документа.

* склады и автомобильные дороги для логистической компании
Само описание подсказывает, что использовать нужно графовые БД, к примеру OrientDB. Склады это узлы графа, а связи между ними это дороги. В лекции было сказано про рекомендательную систему, можно применить ее и здесь, к примеру меньшее растояние до склада позволит выбрать ближайший склад.

* генеалогические деревья
Надежнее использовать реляционнные БД, MySQL, Postgress, они надежные и данные жестко связаны отношениями. В начале хотел предложить графовую, но одна лишняя связи приведет к искажению инормации, так же она боее сложная.

* кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
Для кэширования выбираю Redis. Быстрый отклик за счет хранения данных в оперативной памяти, так же можно настроить время жизни записи.

* отношения клиент-покупка для интернет-магазина.
Если рассматривать ситуацию клиент-покупка, то можно попробовать использовать нереляционную БД, так как каждый пользователь совершает разное количество покупок. Будем хранить покупки конкретного пользователя в одном документе. В принципе это похожая ситуация с электронными чеками.
---

### Задание 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):
Согласно PACELC-теореме как бы вы классифицировали эти реализации?

* данные записываются на все узлы с задержкой до часа (асинхронная запись)
По CAP это CP, система устойчива к разделению и данные консистентны на всех узлах, но не обеспечивает доступность.
PC/EC

* при сетевых сбоях система может разделиться на 2 раздельных кластера;
По CAP это CA, так как система может разделиться.
PA/EL система, так как есть вариант разделения.

* система может не прислать корректный ответ или сбросить соединение.
CP нет высокой доступности.
PC/EC - система может прислать некорреткный ответ или сбросить соединение
---
### Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
Нет, не могут, так как два принципа противоречат друг другу. ACID требует целостность данных в любой момент времени, в BASE их доступность при временной несогласованности данных.

#### Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

* фиксация некоторых значений с временем жизни,
* реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

Речь идет о Redis. 
 * Однопоточность системы, Если применять масштабируемость, то ее нужно учитывать в приложении, так как нужно работать с каждым экземпляром Redis.
 * Нельзя просто так нарастить объем доступной памяти, так как данные хранятся в оперативной памяти и мы ограничены объемом ОЗУ и свободными слотами в мат. плате.
 * При внезапном обесточивании сервера весь кэш пропадает.
 * Нет языка запросов и нет поддержки реляционной алгебры.

